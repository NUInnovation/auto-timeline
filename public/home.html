<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Auto-Timeline</title>

    <!--fonts-->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,500' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/timeline.css?v1">

    <!--css-->
    <link rel="stylesheet" href="css/main.css" media="screen" title="no title" charset="utf-8">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

    <!--js-->
    <script   src="https://code.jquery.com/jquery-1.12.3.js"   integrity="sha256-1XMpEtA4eKXNNpXcJ1pmMPs8JV+nwLdEqwiJeCQEkyc="   crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/app.js"></script>




  </head>

  <body>
    <div class="at-wrapper">
      <div class="at-back">
        <div class="at-header">
          Auto Timeline
        </div>
        <div class=" input-field search-box">
          <p>Automatically generated news or event timelines for your <span style="color:#FFb000; font-weight: bold;">HASHTAG</span></p>
          <div class="inputset">
            <input placeholder="#hackthon..." id="at-input" value='#'>
            <button id='at-btn' type="button" name="button">CREATE</button>
          </div>

        </div>
      </div>
    </div>

    <div id="timeline-header">

    </div>
    <div id="timeline"></div>

    <div class="ex-wrapper">
      <div class="at-example">
        <div class="at-exheader">
          Examples
        </div>
        <div class="at-exwrapper">
          <div class="row">
            <div class="col s3">
              <div class="card">
                <div class="card-image">
                  <img src="css/img/2.jpg">
                </div>

                <div class="card-action">
                  <a href="#" id="Example1">#HackDisrupt</a>
                </div>
              </div>
            </div>
            <div class="col s3  offset-s1 ">
              <div class="card">
                <div class="card-image">
                  <img src="css/img/1.png">
                </div>

                <div class="card-action">
                  <a href="#" id="Example2">#ImWithHer</a>
                </div>
              </div>
            </div>
            <div class="col s3  offset-s1  ">
              <div class="card">
                <div class="card-image">
                  <img src="css/img/3.jpg">
                </div>
                <div class="card-action">
                  <a href="#" id="Example3">#MothersDay</a>
                </div>
              </div>
            </div>
          </div>
        </div>


        <script src="../js/timeline.js"></script>
        <script src="../js/app.js"></script>

      </div>
    </div>


<!-- facebook share plugin test
  <div class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button" data-mobile-iframe="false"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/zh_CN/sdk.js#xfbml=1&version=v2.6";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
-->

  <script type="text/javascript">

  var generate = function(){
    $("#timeline-header").html('');
    $('#timeline-header').show();
    var tag = $('#at-input').val();
    tag = tag.split("");
    if(tag[0] == '#'){
      tag = tag.join('');
      tag = tag.substring(1);
    }
    else{
      tag = tag.join('');
    };

    localStorage.setItem('hashtag', tag);
    temp = localStorage.getItem("hashtag");
    console.log(temp);

    var timeline = new TL.Timeline('timeline', '/create?query=' + tag, {
      ga_property_id: "UA-27829802-4"
    });
    console.log('refreshed timeline');
    $('.ex-wrapper').hide();
    $("#timeline-header").append("<div id='t-header' >Timeline For <span>#" + tag + "</span></div>");
    $("#timeline-header").append("<div id='openNew'>Open in New Tab</div>");
    $('#openNew').click(function(){
      window.open('timeline.html');
    });
    $("html,body").animate({ scrollTop: "700px"},1200);
  };

  $('#at-btn').click(function(){
    generate();
  });

  $(document).keypress(function(e){
    if(e.which == 13) {
      generate();
    }
  });

        $('#Example1').click(function() {
        $("#timeline-header").html('');
        $('#timeline-header').show();
        var tag = 'HackDisrupt'

        var timeline = new TL.Timeline('timeline', '/create?query=' + tag, {
          ga_property_id: "UA-27829802-4"
        });
        console.log('refreshed timeline');
        $('.ex-wrapper').hide();
        $("#timeline-header").append("<div>Timeline For <span>#" + tag + "</span></div>");
        $("html,body").animate({ scrollTop: "700px"},500);
      });

      $('#Example2').click(function() {
        $("#timeline-header").html('');
        $('#timeline-header').show();
        var tag = 'ImWithHer'

        var timeline = new TL.Timeline('timeline', '/create?query=' + tag, {
          ga_property_id: "UA-27829802-4"
        });
        console.log('refreshed timeline');
        $('.ex-wrapper').hide();
        $("#timeline-header").append("<div>Timeline For <span>#" + tag + "</span></div>");
        $("html,body").animate({ scrollTop: "700px"},500);
      });

      $('#Example3').click(function() {
        $("#timeline-header").html('');
        $('#timeline-header').show();
        var tag = 'MothersDay'

        var timeline = new TL.Timeline('timeline', '/create?query=' + tag, {
          ga_property_id: "UA-27829802-4"
        });
        console.log('refreshed timeline');
        $('.ex-wrapper').hide();
        $("#timeline-header").append("<div>Timeline For <span>#" + tag + "</span></div>");
        $("html,body").animate({ scrollTop: "700px"},500);
      });


  </script>
  </body>
</html>
